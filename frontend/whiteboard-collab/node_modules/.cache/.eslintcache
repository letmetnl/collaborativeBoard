[{"C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\index.js":"1","C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\App.js":"2","C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\components\\container\\Container.jsx":"3","C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\components\\board\\Board.jsx":"4"},{"size":219,"mtime":1616255848454,"results":"5","hashOfConfig":"6"},{"size":143,"mtime":1616258289243,"results":"7","hashOfConfig":"6"},{"size":1507,"mtime":1616258355830,"results":"8","hashOfConfig":"6"},{"size":2925,"mtime":1616258407450,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1b26ih1",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\index.js",[],["20","21"],"C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\App.js",[],"C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\components\\container\\Container.jsx",[],"C:\\Users\\reliance\\Desktop\\react-projects\\collaborate-on-board\\frontend\\whiteboard-collab\\src\\components\\board\\Board.jsx",["22"],"import React from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport \"./style.css\";\r\n\r\nclass Board extends React.Component {\r\n  timeout;\r\n  socket = io.connect(\"http://localhost:5000\");\r\n\r\n  ctx;\r\n  isDrawing = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.socket.on(\"canvas-data\", function (data) {\r\n      var root = this;\r\n      var interval = setInterval(function () {\r\n        if (root.isDrawing) return;\r\n        root.isDrawing = true;\r\n        clearInterval(interval);\r\n        var image = new Image();\r\n        var canvas = document.querySelector(\"#board\");\r\n        var ctx = canvas.getContext(\"2d\");\r\n        image.onload = function () {\r\n          ctx.drawImage(image, 0, 0);\r\n\r\n          root.isDrawing = false;\r\n        };\r\n        image.src = data;\r\n      }, 200);\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.drawOnCanvas();\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    this.ctx.strokeStyle = newProps.color;\r\n    this.ctx.lineWidth = newProps.size;\r\n  }\r\n\r\n  drawOnCanvas() {\r\n    var canvas = document.querySelector(\"#board\");\r\n    this.ctx = canvas.getContext(\"2d\");\r\n    var ctx = this.ctx;\r\n\r\n    var sketch = document.querySelector(\"#sketch\");\r\n    var sketch_style = getComputedStyle(sketch);\r\n    canvas.width = parseInt(sketch_style.getPropertyValue(\"width\"));\r\n    canvas.height = parseInt(sketch_style.getPropertyValue(\"height\"));\r\n\r\n    var mouse = { x: 0, y: 0 };\r\n    var last_mouse = { x: 0, y: 0 };\r\n\r\n    /* Mouse Capturing Work */\r\n    canvas.addEventListener(\r\n      \"mousemove\",\r\n      function (e) {\r\n        last_mouse.x = mouse.x;\r\n        last_mouse.y = mouse.y;\r\n\r\n        mouse.x = e.pageX - this.offsetLeft;\r\n        mouse.y = e.pageY - this.offsetTop;\r\n      },\r\n      false\r\n    );\r\n\r\n    /* Drawing on Paint App */\r\n    ctx.lineWidth = this.props.size;\r\n    ctx.lineJoin = \"round\";\r\n    ctx.lineCap = \"round\";\r\n    ctx.strokeStyle = this.props.color;\r\n\r\n    canvas.addEventListener(\r\n      \"mousedown\",\r\n      function (e) {\r\n        canvas.addEventListener(\"mousemove\", onPaint, false);\r\n      },\r\n      false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n      \"mouseup\",\r\n      function () {\r\n        canvas.removeEventListener(\"mousemove\", onPaint, false);\r\n      },\r\n      false\r\n    );\r\n\r\n    var root = this;\r\n    var onPaint = function () {\r\n      ctx.beginPath();\r\n      ctx.moveTo(last_mouse.x, last_mouse.y);\r\n      ctx.lineTo(mouse.x, mouse.y);\r\n      ctx.closePath();\r\n      ctx.stroke();\r\n\r\n      if (root.timeout != undefined) clearTimeout(root.timeout);\r\n      root.timeout = setTimeout(function () {\r\n        var base64ImageData = canvas.toDataURL(\"image/png\");\r\n        root.socket.emit(\"canvas-data\", base64ImageData);\r\n      }, 1000);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"sketch\" id=\"sketch\">\r\n        <canvas className=\"board\" id=\"board\"></canvas>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;\r\n",{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":100,"column":24,"nodeType":"29","messageId":"30","endLine":100,"endColumn":26},"no-native-reassign",["31"],"no-negated-in-lhs",["32"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]